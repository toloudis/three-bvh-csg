var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},t=e.parcelRequirefee5;null==t&&((t=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,o){n[e]=o},e.parcelRequirefee5=t);var i=t("ilwiq"),r=t("jiuw3"),a=t("fUhpq"),s=t("5Rd1x"),d=t("4CEV9");const p={snap:!0,wireframe:!1,displayControls:!0,transparentBrushes:!0,display:"OVERLAY"};let w,l,f,c,u,y,m,B,O,h,x,T,g,I;function C(){requestAnimationFrame(C);const e=window.performance.now();p.transparentBrushes?(T.depthWrite=!1,T.transparent=!0,T.opacity=.15):(T.depthWrite=!0,T.transparent=!1,T.opacity=1),h&&(h.geometry.dispose(),h.parent.remove(h)),h=O.evaluateHierarchy(x),h.material=g,f.add(h),I.geometry=h.geometry,I.visible=p.wireframe;const o=window.performance.now()-e;u.innerText=`${o.toFixed(3)}ms`,m.enabled=p.displayControls,m.visible=p.displayControls,h.visible="BRUSHES"!==p.display,x.visible="RESULT"!==p.display,w.render(f,l)}!async function(){u=document.getElementById("output"),w=new i.WebGLRenderer({antialias:!0}),w.setPixelRatio(window.devicePixelRatio),w.setSize(window.innerWidth,window.innerHeight),w.setClearColor(1118481,1),document.body.appendChild(w.domElement),f=new i.Scene,B=new i.DirectionalLight(16777215,1),B.position.set(-1,2,3),f.add(B,B.target),f.add(new i.AmbientLight(11583173,.1)),l=new i.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,50),l.position.set(3,2,4).multiplyScalar(2),l.far=100,l.updateProjectionMatrix(),y=new(0,s.OrbitControls)(l,w.domElement),m=new(0,a.TransformControls)(l,w.domElement),m.setSize(.75),m.addEventListener("dragging-changed",(e=>{y.enabled=!e.value})),m.addEventListener("objectChange",(e=>{if(p.snap){const e=m.object;e.position.x=.1*Math.floor(10*e.position.x),e.position.y=.1*Math.floor(10*e.position.y),e.position.z=.1*Math.floor(10*e.position.z)}})),f.add(m),O=new(0,d.Evaluator),O.attributes=["position","normal"],O.useGroups=!1,T=new(0,d.GridMaterial),T.side=i.DoubleSide,T.polygonOffset=!0,T.polygonOffsetFactor=2,T.polygonOffsetUnits=1,T.opacity=.15,T.transparent=!0,T.depthWrite=!1,T.color.set(16761856),g=T.clone(),g.opacity=1,g.transparent=!1,g.depthWrite=!0,g.polygonOffsetFactor=1,g.polygonOffsetUnits=1,g.color.set(16777215),I=new i.Mesh(void 0,new i.MeshBasicMaterial({color:0,wireframe:!0})),I.material.color.set(16761856).multiplyScalar(.1),f.add(I),x=new(0,d.Operation)(new i.BoxBufferGeometry(10,5,5),T),f.add(x);{const e=new(0,d.Operation)(new i.BoxBufferGeometry(9,4.5,4),T);e.operation=d.SUBTRACTION,x.add(e)}{const e=new(0,d.Operation)(new i.CylinderBufferGeometry(.5,.5,1,20),T);e.operation=d.SUBTRACTION,e.rotateX(Math.PI/2),e.position.y=.25;const o=new(0,d.Operation)(new i.BoxBufferGeometry(1,2.5,1),T);o.operation=d.SUBTRACTION,o.position.y=-1;const n=new(0,d.OperationGroup);n.position.z=2.2,n.add(e,o),x.add(n),m.attach(n)}{const e=new(0,d.Operation)(new i.BoxBufferGeometry(2,1.75,2),T);e.operation=d.SUBTRACTION;const o=new(0,d.Operation)(new i.BoxBufferGeometry(2,1.75,.2),T);o.operation=d.ADDITION;const n=new(0,d.Operation)(new i.BoxBufferGeometry(1.9,1.65,2),T);n.operation=d.SUBTRACTION;const t=new(0,d.Operation)(new i.BoxBufferGeometry(2,.1,.1),T);t.operation=d.ADDITION;const r=new(0,d.Operation)(new i.BoxBufferGeometry(.1,2,.1),T);r.operation=d.ADDITION;const a=new(0,d.OperationGroup);a.add(e,o,n,t,r),a.position.x=-3,a.position.z=2.2,x.add(a)}{const e=new(0,d.Operation)(new i.BoxBufferGeometry(2,1.75,2),T);e.operation=d.SUBTRACTION;const o=new(0,d.Operation)(new i.BoxBufferGeometry(2,1.75,.2),T);o.operation=d.ADDITION;const n=new(0,d.Operation)(new i.BoxBufferGeometry(1.9,1.65,2),T);n.operation=d.SUBTRACTION;const t=new(0,d.Operation)(new i.BoxBufferGeometry(2,.1,.1),T);t.operation=d.ADDITION;const r=new(0,d.Operation)(new i.BoxBufferGeometry(.1,2,.1),T);r.operation=d.ADDITION;const a=new(0,d.OperationGroup);a.add(e,o,n,t,r),a.position.x=3,a.position.z=2.2,x.add(a)}c=new(0,r.GUI),c.add(p,"wireframe"),c.add(p,"snap"),c.add(p,"displayControls"),c.add(p,"transparentBrushes"),c.add(p,"display",["OVERLAY","BRUSHES","RESULT"]),window.addEventListener("resize",(function(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight)}),!1),window.addEventListener("keydown",(function(e){switch(e.code){case"KeyW":m.setMode("translate");break;case"KeyE":m.setMode("rotate");break;case"KeyR":m.setMode("scale")}})),C()}();
//# sourceMappingURL=hierarchy.aa51a717.js.map
