var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},t={},n=e.parcelRequirefee5;null==n&&((n=function(e){if(e in i)return i[e].exports;if(e in t){var n=t[e];delete t[e];var a={id:e,exports:{}};return i[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,i){t[e]=i},e.parcelRequirefee5=n);var a=n("ilwiq"),r=n("jiuw3"),s=n("5Rd1x"),o=n("7lx9d"),l=n("kp7Te"),d=n("8Zfx2"),p=n("4CEV9");window.logTriangleDefinitions=p.logTriangleDefinitions;const w=p.SUBTRACTION,c={displayBrushes:!0,wireframe:!1,enableDebugTelemetry:!0,displayIntersectionEdges:!1,displayTriangleIntersections:!1,displayBrush1BVH:!1,displayBrush2BVH:!1};let u,m,g,f,y,h,b,B,M,T,x,v,E,H,O,D,I,A,S,V=!0;const C=new Map;function G(){requestAnimationFrame(G);const e=c.enableDebugTelemetry;if(V){V=!1,b.updateMatrixWorld(),B.updateMatrixWorld(),D.update(),I.update();const i=window.performance.now();S.debug.enabled=e,S.useGroups=!0,S.evaluate(b,B,w,M),M.material=M.material.map((e=>C.get(e)));const t=window.performance.now()-i;y.innerText=`${t.toFixed(3)}ms`,e&&(H.setEdges(S.debug.intersectionEdges),O.setTriangles([...S.debug.triangleIntersectsA.getTrianglesAsArray(),...S.debug.triangleIntersectsA.getIntersectionsAsArray()]))}T.visible=c.wireframe,H.visible=e&&c.displayIntersectionEdges,O.visible=e&&c.displayTriangleIntersections,D.visible=c.displayBrush1BVH,I.visible=c.displayBrush2BVH,b.visible=c.displayBrushes,B.visible=c.displayBrushes,u.render(g,m)}!async function(){let e;y=document.getElementById("output"),u=new a.WebGLRenderer({antialias:!0}),u.setPixelRatio(window.devicePixelRatio),u.setSize(window.innerWidth,window.innerHeight),u.setClearColor(1118481,1),document.body.appendChild(u.domElement),g=new a.Scene,x=new a.DirectionalLight(16777215,1),x.position.set(-1,2,3),v=new a.DirectionalLight(16777215,.25),v.position.set(-1,2,3).multiplyScalar(-1),g.add(x,v),g.add(new a.AmbientLight(11583173,.1)),m=new a.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,50),m.position.set(1,2,4),m.far=100,m.updateProjectionMatrix(),h=new(0,s.OrbitControls)(m,u.domElement),S=new(0,p.Evaluator),S.attributes=["position","normal"],b=new(0,p.Brush)(new a.CylinderGeometry(1,1,1,50),new(0,p.GridMaterial)),B=new(0,p.Brush)(new a.CylinderGeometry(1,1,1,50),new(0,p.GridMaterial)),b.scale.set(.5,5,.5),B.scale.set(.5,5,.5),B.rotation.x=Math.PI/2,b.material.opacity=.15,b.material.transparent=!0,b.material.depthWrite=!1,b.material.polygonOffset=!0,b.material.polygonOffsetFactor=.2,b.material.polygonOffsetUnits=.2,b.material.side=a.DoubleSide,b.material.premultipliedAlpha=!0,B.material.opacity=.15,B.material.transparent=!0,B.material.depthWrite=!1,B.material.polygonOffset=!0,B.material.polygonOffsetFactor=.2,B.material.polygonOffsetUnits=.2,B.material.side=a.DoubleSide,B.material.premultipliedAlpha=!0,B.material.roughness=.25,B.material.color.set(15277667),g.add(b,B),e=b.material.clone(),e.side=a.FrontSide,e.opacity=1,e.transparent=!1,e.depthWrite=!0,C.set(b.material,e),e=B.material.clone(),e.side=a.FrontSide,e.opacity=1,e.transparent=!1,e.depthWrite=!0,C.set(B.material,e),C.forEach(((e,i)=>{e.enableGrid=!1,i.enableGrid=!1})),M=new a.Mesh(new a.BufferGeometry,new a.MeshStandardMaterial({flatShading:!1,polygonOffset:!0,polygonOffsetUnits:.1,polygonOffsetFactor:.1})),E=M.material,g.add(M),T=new a.Mesh(M.geometry,new a.MeshBasicMaterial({wireframe:!0,color:16777215,opacity:1,transparent:!0})),g.add(T),H=new(0,p.EdgesHelper),H.color.set(65280),g.add(H),O=new(0,p.TriangleSetHelper),O.color.set(48340),g.add(O),D=new(0,d.MeshBVHVisualizer)(b,20),I=new(0,d.MeshBVHVisualizer)(B,20),g.add(D,I);const i=await(new(0,o.GLTFLoader)).setMeshoptDecoder(l.MeshoptDecoder).loadAsync("https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/models/stanford-bunny/bunny.glb");A=i.scene.children[0].geometry,A.computeVertexNormals(),f=new(0,r.GUI),f.add(c,"wireframe"),f.add(c,"displayBrushes"),f.add(c,"enableDebugTelemetry").onChange((()=>V=!0)),f.add(c,"displayIntersectionEdges"),f.add(c,"displayTriangleIntersections"),f.add(c,"displayBrush1BVH"),f.add(c,"displayBrush2BVH"),window.addEventListener("resize",(function(){m.aspect=window.innerWidth/window.innerHeight,m.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)}),!1),G()}();
//# sourceMappingURL=debug.99c8aa33.js.map
